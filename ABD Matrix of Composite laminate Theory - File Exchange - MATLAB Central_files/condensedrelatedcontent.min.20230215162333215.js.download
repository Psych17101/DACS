var mwCondensedRelatedContentLib=mwCondensedRelatedContentLib||{};mwCondensedRelatedContentLib.init=function(a){new mwCondensedRelatedContent(a)};
function mwCondensedRelatedContent(a){this.ajax=null;this.cacheRequests=this.async=!0;this.debug=!1;this.filterQuery=this.defaultThumbnailImg=null;this.fields=["asset_id","title_en","summary_en"];this.heading="Related Content";this.excludeIDs=this.collections=this.text=null;this.isBusy=!1;this.itemTemplate='\x3cdiv class\x3d"mwCondensedRelatedContentItem"\x3e\x3ca href\x3d"{{url}}" class\x3d"mwContentItemLink" title\x3d"{{title_en}}"\x3e {{title_en}} \x3c/a\x3e\x3cp class\x3d"mwContentItemText"\x3e{{summary_en}}\x3c/p\x3e\x3c/div\x3e';this.markup=
null;this.maxDescriptionLength=255;this.maxTitleLength=100;this.maxSummaryLength=75;this.rows=1;this.serviceUrl=this.serviceHostName=null;this.showHeading=this.showMainHeading=!1;this.startAt=1;this.filters=this.unHideIds=this.tracking=this.targetElementClassName=null;this.debug&&this.log("init");a.targetElementClassName?(this.targetElementClassName=a.targetElementClassName,this.serviceHostName=a.serviceHostName?a.serviceHostName:window.location.host,a.serviceUrl?(this.serviceUrl=a.serviceUrl,a.text?
(this.text=encodeURIComponent(a.text),a.collections?(this.collections=a.collections,a.excludeIDs&&(this.excludeIDs=a.excludeIDs),a.cacheRequests&&(this.cacheRequests=a.cacheRequests),a.maxDescriptionLength&&(this.maxDescriptionLength=a.maxDescriptionLength),a.maxSummaryLength&&(this.maxSummaryLength=a.maxSummaryLength),a.maxTitleLength&&(this.maxTitleLength=a.maxTitleLength),a.debug&&(this.debug=a.debug),a.rows&&(this.rows=a.rows),a.async&&(this.async=a.async),a.itemTemplate&&(this.itemTemplate=a.itemTemplate),
a.fields&&(this.fields=a.fields),a.showMainHeading&&(this.showMainHeading=a.showMainHeading),a.heading&&(this.heading=a.heading),a.showHeading&&(this.showHeading=a.showHeading),a.defaultThumbnailImg&&(this.defaultThumbnailImg=a.defaultThumbnailImg),a.unHideIds&&(this.unHideIds=a.unHideIds),a.filters&&(this.filters=a.filters),a.tracking?(this.tracking=a.tracking,this.xhr(),this.getRelatedContent()):this.log("Exception: tracking code callback function not provided")):this.log("Exception: Missing required input collections")):
this.log("Exception: Missing required input text")):this.log("Exception: Missing required service url")):this.log("Exception: No target element provided")}
mwCondensedRelatedContent.prototype.getRelatedContent=function(){this.debug&&this.log("getRelatedContent");if(this.ajax){this.isBusy=!0;var a=this;this.ajax.onreadystatechange=function(){a.debug&&a.log("serviceStateChange");4===a.ajax.readyState&&200===a.ajax.status?a.render():a.debug&&a.log("Error: _self.ajax status : "+a.ajax.status);a.isBusy=!1;a.serviceReqestComplete()};this.ajax.open("GET",this.getUrl(),this.async);this.ajax.send()}else this.log("Exception: this.getRelatedContent : Cannot make requestion. No xmlhttp object")};
mwCondensedRelatedContent.prototype.log=function(a){console.log(a)};
mwCondensedRelatedContent.prototype.render=function(){this.debug&&this.log("render");var a=JSON.parse(this.ajax.responseText).response;if(!a.docs||1>a.docs.length){if(this.debug&&this.log("Info: this.render : No related documents found or service returned no data."),null!==this.unHideIds)for(a=0;a<this.unHideIds.length;a++)null!==document.getElementById(this.unHideIds[a])&&document.getElementById(this.unHideIds[a]).classList.remove("hidden")}else{this.markup=document.createElement("div");this.showMainHeading&&
(document.getElementById("main-heading-1").className="main-heading");if(this.showHeading){var c=document.createElement("p");c.setAttribute("class","mwCondensedRelatedContent_heading");c.innerHTML=this.heading;this.markup.appendChild(c)}c=a.docs.length;for(var g=0;g<c;g++){for(var b=a.docs[g],f=this.itemTemplate,h=0;h<this.fields.length;h++){var e=this.fields[h];"url"===e&&null!==this.tracking&&(b[e]=this.tracking(b[e]));"title_en"===e&&(b[e]=this.trimString(b[e],this.maxTitleLength),b[e]=String(b[e]).replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;"));"summary"===e&&(b[e]=this.trimString(b[e],this.maxSummaryLength));"description"===e&&(b[e]=this.trimString(b[e],this.maxDescriptionLength));if("subcollection"===e)try{var d=b.subcollection.toString();if(-1<d.indexOf("answers"))b.subcollection=I18n.t("js.related_content.subcollection.answers",{defaults:[{message:"Answers"}]});else if(-1<d.indexOf("latestdoc"))b.subcollection=I18n.t("js.related_content.subcollection.latestdoc",{defaults:[{message:"Documentation"}]});
else if(-1<d.indexOf("fileexchange"))b.subcollection=I18n.t("js.related_content.subcollection.fileexchange",{defaults:[{message:"File Exchange"}]});else if(-1<d.indexOf("blogs"))b.subcollection=I18n.t("js.related_content.subcollection.blogs",{defaults:[{message:"Blogs"}]});else if(-1<d.indexOf("connections"))b.subcollection=I18n.t("js.related_content.subcollection.connections",{defaults:[{message:"Third-Party Products \x26 Services"}]});else if(-1<d.indexOf("productsservices"))b.subcollection=I18n.t("js.related_content.subcollection.productsservices",
{defaults:[{message:"Products and Services"}]});else if(-1<d.indexOf("bugreports"))b.subcollection=I18n.t("js.related_content.subcollection.bugreports",{defaults:[{message:"Bug Reports"}]});else if(-1<d.indexOf("technical_articles"))b.subcollection=I18n.t("js.related_content.subcollection.technical_articles",{defaults:[{message:"Technical Articles and Newsletters"}]});else if(-1<d.indexOf("jobs"))b.subcollection=I18n.t("js.related_content.subcollection.jobs",{defaults:[{message:"Careers"}]});else if(-1<
d.indexOf("userstories"))b.subcollection=I18n.t("js.related_content.subcollection.userstories",{defaults:[{message:"User Stories"}]});else if(-1<d.indexOf("pressroom"))b.subcollection=I18n.t("js.related_content.subcollection.pressroom",{defaults:[{message:"Newsroom"}]});else if(-1<d.indexOf("company"))b.subcollection=I18n.t("js.related_content.subcollection.company",{defaults:[{message:"Company"}]});else if(-1<d.indexOf("videos"))b.subcollection=I18n.t("js.related_content.subcollection.videos",{defaults:[{message:"Videos"}]});
else if(-1<d.indexOf("books"))b.subcollection=I18n.t("js.related_content.subcollection.books",{defaults:[{message:"Books"}]});else if(-1<d.indexOf("academia"))b.subcollection=I18n.t("js.related_content.subcollection.academia",{defaults:[{message:"Academia"}]});else if(-1<d.indexOf("consulting"))b.subcollection=I18n.t("js.related_content.subcollection.consulting",{defaults:[{message:"Consulting"}]});else if(-1<d.indexOf("training"))b.subcollection=I18n.t("js.related_content.subcollection.training",
{defaults:[{message:"Training"}]});else if(-1<d.indexOf("events"))b.subcollection=I18n.t("js.related_content.subcollection.events",{defaults:[{message:"Events"}]});else if(-1<d.indexOf("hardware_catalog"))b.subcollection=I18n.t("js.related_content.subcollection.hardware_catalog",{defaults:[{message:"Hardware Catalog"}]});else if(-1<d.indexOf("matlabexpo"))b.subcollection=I18n.t("js.related_content.subcollection.matlabexpo",{defaults:[{message:"MATLAB EXPO"}]});else if(-1<d.indexOf("solution_topics"))b.subcollection=
I18n.t("js.related_content.subcollection.solution_topics",{defaults:[{message:"Solutions"}]});else if(-1<d.indexOf("topic_based_community"))b.subcollection=I18n.t("js.related_content.subcollection.topic_based_community",{defaults:[{message:"Communities"}]});else{if("undefined"!==typeof b.url.split(".com/")[1])unknownSubcollection=b.url.split(".com/")[1].split("/")[0];else if(""!==b.url.split("/")[1])unknownSubcollection=b.url.split("/")[1];else throw Error("subcollection could not be extracted from URL");
b.subcollection=unknownSubcollection.charAt(0).toUpperCase()+unknownSubcollection.slice(1)}}catch(k){this.log("Exception:"+k.message),b.subcollection=I18n.t("js.related_content.subcollection.default",{defaults:[{message:"MathWorks"}]})}var l=new RegExp("{{"+e+"}}","g");"url"===e&&(f=handleFileTypes(b[e],f));f=f.replace(l,b[e])}b=document.createElement("div");b.innerHTML=f;this.defaultThumbnailImg&&(f=b.getElementsByTagName("img"))&&0<f.length&&(f[0].onerror=function(){this.onerror=null;this.src=this.defaultThumbnailImg});
this.markup.appendChild(b)}a=document.getElementsByClassName(this.targetElementClassName);for(d=0;d<a.length;d++)c=this.markup.cloneNode(!0),a[d].appendChild(c)}};function handleFileTypes(a,c){"pdf"===a.split(/[#?]/)[0].split(".").pop().trim()&&(c=c.replace(/location.href='{{url}}';/g,"window.open('"+a+"')"),c=c.replace(/{{url}}/g,a+'" onclick\x3d"event.preventDefault();'));return c}mwCondensedRelatedContent.prototype.serviceReqestComplete=function(){this.debug&&this.log("serviceReqestComplete")};
mwCondensedRelatedContent.prototype.trimString=function(a,c){return a?a.length>c?a.substr(0,c)+"...":a:a};
mwCondensedRelatedContent.prototype.getUrl=function(){var a="";this.cacheRequests&&(a="\x26t\x3d"+Math.random());var c=window.location.protocol+"//"+this.serviceHostName+this.serviceUrl;c=c+"?q\x3d"+this.text;c=c+"\x26c[]\x3d"+this.collections.join;if(null!==this.filters)for(var g=0;g<this.filters.length;g++)c=c+"\x26fq[]\x3d"+this.filters[g];c=c+"\x26rows\x3d"+this.rows;c=c+"\x26fl\x3d"+this.fields.join();c=c+"\x26fq[]\x3d-asset_id:("+this.excludeIDs+")";return c+"\x26wt\x3djson"+a};
mwCondensedRelatedContent.prototype.xhr=function(){this.debug&&this.log("xhr");this.ajax=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")};